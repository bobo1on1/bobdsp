<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>BobDSP</title>
    <link rel="stylesheet" href="jquery-ui-1.10.2.custom/css/dot-luv/jquery-ui-1.10.2.custom.css" />

    <style>
      body
      {
        font: 62.5% "Trebuchet MS", sans-serif;
        margin: 50px;
      }

      .connectionslist
      {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 100%;
      }

      #feedback {}

      .selectable .ui-selecting
      {
        background: #00498f;
      }

      .selectable .ui-selected
      {
        background: #0b3e6f;
        color: white;
      }

      .selectable
      {
        list-style-type: none;
        margin: 0;
        padding: 0;
        width: 100%;
      }

      #portstable
      {
        width: 100%;
      }
 
      .portscell
      {
        width: 50%;
        vertical-align: top;
      }

    </style>

    <script type="text/javascript" src="jquery-ui-1.10.2.custom/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="jquery-ui-1.10.2.custom/js/jquery-ui-1.10.2.custom.min.js"></script>
    <script type="text/javascript" src="js/json2.js"></script>
    <script type="text/javascript" src="js/bobdsp-connections.js"></script>
    <script type="text/javascript" src="js/bobdsp-plugins.js"></script>

    <script>
      $(function()
      {
        $("#tabsdiv").tabs();
        $("#connectionslist").sortable({distance:15});
        $("#conapply").button();
        $("#conapplyandsave").button();
        $("#conrestore").button();
        $("#conreset").button();
        $("#conaddnew").button();
        $("#outselectable").selectable({stop:portUnSelect});
        $("#inselectable").selectable({stop:portUnSelect});
        $("#conaddport").button();
        $("#conaddportregex").button();
        $("#spinner").spinner({ incremental: false, min: 1});
        $("#spinner").spinner("value", 1);
        $("#clientsave").button();
        $("#clientrestore").button();

        //if multiple elements are selected, deselect them except the first
        function portUnSelect(event, ui)
        {
          $(".ui-selected:first", this).each(function()
            {
              $(this).siblings().removeClass("ui-selected");
            });
        };

        var connectionelements =
        {
          connectionslist    : $("#connectionslist"),
          resetbutton        : $("#conreset"),
          applybutton        : $("#conapply"),
          applyandsavebutton : $("#conapplyandsave"),
          restorebutton      : $("#conrestore"),
          addnewbutton       : $("#conaddnew"),
          outports           : $("#outselectable"),
          inports            : $("#inselectable"),
          addportbutton      : $("#conaddport"),
          addportregexbutton : $("#conaddportregex")
        };

        BobDSPConnections(connectionelements);

        var pluginElements =
        {
          clientsdiv          : $("#clientsdiv"),
          clientsavebutton    : $("#clientsave"),
          clientrestorebutton : $("#clientrestore")
        };

        BobDSPPlugins(pluginElements);
      });
    </script>
  </head>
  <body>
    <div id="tabsdiv">
      <ul>
        <li><a href="#pluginsdiv">Plugins</a></li>
        <li><a href="#connectionsdiv">Connections</a></li>
        <li><a href="#visualizersdiv">Visualizers</a></li>
        <li><a href="#controlsdiv">Controls</a></li>
      </ul>
      <div id="pluginsdiv">
        <button id="clientsave">Save</button>
        <button id="clientrestore">Restore saved settings</button>
        <div id="clientsdiv">
        </div>
      </div>
      <div id="connectionsdiv">

        <br>
        <button id="conapply">Apply</button>
        <button id="conapplyandsave">Apply and save</button>
        <button id="conrestore">Restore saved settings</button>
        <button id="conreset">Reset form</button>
        <button id="conaddnew">Add new connection</button>
        <br>
        <br>

        <ul id="connectionslist" class="connectionslist"></ul>

        <br>

        <table id="portstable">
        <tr>
          <td class="portscell">
            <ol id="outselectable" class="selectable"></ol>
          </td>
          <td class="portscell">
            <ol id="inselectable" class="selectable"></ol>
          </td>
        </tr>
        </table>

        <button id="conaddport">Add from ports</button>
        <button id="conaddportregex">Add from ports as regex</button>

      </div>
      <div id="visualizersdiv">
      </div>
      <div id="controlsdiv">
      </div>
    </div>

    <div id="test"></div>
  </body>
</html>

